sap.ui.define(["encollab/dp/controls/SearchToolbar","sap/m/ToolbarRenderer","sap/m/Select","sap/m/Button","sap/m/Title","sap/m/ToolbarSpacer","sap/m/SearchField","sap/ui/core/Item","sap/ui/core/format/DateFormat","sap/m/Dialog","sap/m/DateRangeSelection","sap/m/CheckBox"],function(t,e,s,a,i,n,r,h,o,c,_,d){return t.extend("encollab.dp.controls.SearchToolbar2",{metadata:{properties:{}},renderer:function(t,s){e.render(t,s)},getDateRange:function(){return{first:this._key!=="a"?this._first:null,last:this._key!=="a"?this._last:null}},getOnlyOpenOrders:function(){return this._checkbox.getSelected()},init:function(){this._date=new Date;this._navigate=0;this._first=null;this._last=null;this._key="a";this._formatter=o.getDateTimeInstance({pattern:"dd MMM yyyy"});this._daterange=new _({maxDate:new Date});this._dialog=new c({title:"Pick a date range",content:[this._daterange],buttons:[new a({text:"Cancel",press:this._onDialogCancel.bind(this)}),new a({text:"Confirm",press:this._onDialogConfirm.bind(this)})]});this._buttonForward=new a({icon:"sap-icon://navigation-right-arrow",press:this._forward.bind(this)});this._buttonBack=new a({icon:"sap-icon://navigation-left-arrow",press:this._backward.bind(this)});this._textPeriod=new i({text:"This week"});this._textDates=new i({text:"NULL"});this._search=new r({width:"30%",search:this._onChange.bind(this)});this._period=new s({change:this._onSelect.bind(this),items:[new h({key:"a",text:"All Dates"}),new h({key:"t",text:"Day"}),new h({key:"w",text:"Week"}),new h({key:"m",text:"Month"}),new h({key:"q",text:"Quarter"}),new h({key:"y",text:"Year"}),new h({key:"c",text:"Custom"})]});this._checkbox=new d({text:"Only Open Orders",selected:true,select:this._onCheckBoxSelect.bind(this)});this.addContent(this._buttonBack);this.addContent(this._buttonForward);this.addContent(this._textPeriod);this.addContent(this._textDates);this.addContent(new n);this.addContent(this._checkbox);this.addContent(this._search);this.addContent(this._period);this._setDates()},_setDates:function(t){var e,s,a;switch(this._key){case"a":this._setToday();a="All Orders";break;case"t":this._setToday();a="Day";break;case"w":this._setDateDay();a="Week";break;case"m":this._setDateMonth();a="Month";break;case"q":this._setDateQuarter();a="Quarter";break;case"y":this._setDateYear();a="Year";break;case"c":a="Range";this._dialog.open();break}if(this._key!=="a"&&this._key!=="c"){switch(this._navigate){case-1:a=this._key==="t"?"Yesterday":"Last "+a.toLowerCase();break;case 0:a=this._key==="t"?"Today":"This "+a.toLowerCase();break;case 1:a=this._key==="t"?"Tomorrow":"Next "+a.toLowerCase();break}}this._textPeriod.setText(a+": ");switch(this._key){case"a":this._textDates.setText("");break;case"t":this._textDates.setText(this._formatter.format(this._first));break;default:this._textDates.setText(this._formatter.format(this._first)+" - "+this._formatter.format(this._last));break}if(t===true){this.fireSearch({first:this._first,last:this._last})}},_onCheckBoxSelect:function(t){this._setDates(true)},onAfterRendering:function(){this._setDates(false)}})});
//# sourceMappingURL=SearchToolbar2.js.map